<!DOCTYPE html>
<html>

<head>
    <title>European contact tracing mobile apps - Dashboard</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8">
    <meta name="author" content="Alessandro Dalla Benetta, a.dallabenetta@gmail.com">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="//cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="scripts/underscore.min.js"></script>

    <script src="//unpkg.com/d3-hexgrid"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="contact_tracing_apps_dashboard/layout.cloud.js"></script>
    <!--<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>-->
    <script src="//unpkg.com/d3-geo-projection"></script>
    <script src='//unpkg.com/simple-statistics'></script>

    <!-- Data -->
    <script src="contact_tracing_apps_sentiment_analysis/data/sa_general_info.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/data/data_table.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/data/geo_data.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/data/plot_timeline_charts.js"></script>
    <script src="contact_tracing_apps_basic_information/data/sa.js"></script>

    <!-- Generation charts-->
    <script src="contact_tracing_apps_sentiment_analysis/js/main.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/js/stacked_bar_chart.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/js/plot_chart.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/js/geo_chart.js"></script>
    <script src="contact_tracing_apps_sentiment_analysis/js/sa_sunburst.js"></script>


    <style>
        div.tooltip {
            position: absolute;
            text-align: center;
            width: 60px;
            height: 28px;
            padding: 2px;
            font: 12px sans-serif;
            background: lightsteelblue;
            border: 0px;
            border-radius: 8px;
            pointer-events: none;
        }

        #wrap {
            width: 1200px;
            margin: auto;
            height: 900px;

            margin-top: 10px;
        }
    </style>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174641246-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-174641246-1');
    </script>

    <script src="contact_tracing_apps_dashboard/us.js"></script>
    <script src="contact_tracing_apps_dashboard/main.js"></script>
</head>


<body>
    <div id="wrap">
        <h3>Sentiment analysis about Contact tracing apps</h3>
        
        <div>
            <p>
                The extraction of opinions was performed analysing <span id="total_tweets"></span> tweets
                collected from July 2020 to July 2021 as already mentioned in the 
                <a href="./index_contact_tracing_apps_basic_information.html">basic information section</a>.
            </p>
            
            <p>
                In order to extract negative, positive and neutral sentiments different pretrained BERT models
                have been used respecting the five main languages extracted using the standard Twitter engine 
                for language identification.
            </p>

            <p>
                In details, the <span id="neutral_tweets_relative"></span>% of tweets are classified without
                opinions (<span id="neutral_tweets"></span> tweets) and labeled as <em>Neutral tweets</em>.

                The <span id="no_classified_tweets_relative"></span>% of tweets are excluded from this analysis
                becouse 1) the language detected is not present in the main list of languages of our dataset 
                (<span id="others_tweet"></span> tweets) or
                2) the Twitter engine for language classification is not able to detect the language 
                (<span id="undefined_tweet"></span> tweets).

                The tweets with opinions are the <spam id="with_opinions"></spam>% where around three-quarters are negative teewts 
                (<spam id="negative_tweets"></spam> tweets) and one-quarter positive tweets (<spam id="positve_tweets"></spam> tweets).
            </p>
            

            
        </div>
        <div style="margin-top: 10px;">
            <table id="sa_table"></table>
        </div>
        <div>
            <div id="chart_1_content">
                <svg id="chart_1" width="1300" height="550"></svg>
            </div>

            <p>
                The stacked barchar represents the tweets collected about
                the european contact tracing apps and classified as neutral, positive and negative.
                On average, the number of negative tweets is greater respect the positive tweets except for
                the French mobile apps whre the ratio of positive and negative tweets is to 1.

            </p>

        </div>

        <h3>Detected languages</h3>
        [add chart for languages ]
        <div>
            For each language we used a pretrained BERT model where the involved training set was regarding
            social media and reviews, following the details:
            <ul>
                <li><a href="https://huggingface.co/cardiffnlp/twitter-roberta-base-sentiment">English - model trained on ~58M tweets</a></li>
                <li><a href="https://github.com/TheophileBlard/french-sentiment-analysis-with-bert">French - model trained with 100k positive tweets and 100k negative tweets</a></li>
                <li><a href="https://huggingface.co/oliverguhr/german-sentiment-bert#how-to-use">German - the training data contains texts dorm different domains like Twitter, facebook and reviews</a></li>
                <li><a href="https://huggingface.co/neuraly/bert-base-italian-cased-sentiment">Italian - model trained with 45k tweets</a></li>
                <li><a href="https://huggingface.co/finiteautomata/beto-sentiment-analysis">Spanish - model trained with ~5k tweets</a></li>
            </ul>
        </div>
       
        
        <p><!--
          We extracted the opinions for each contact tracing apps from the tweet-text. The engine classifier
        is able to extract opinion from the English, French, German, Spanish and Italian languages.
        Futhermore, we can have one or more languages for a mobile contact tracing app, for example the Immuni
        app can have Italian and English languages.!-->
        
  
      </p>
        
  
        <div id="basic_information_sa_starbust">
            <h4>Opinions, covid-19 apps and countries</h4>
        <p>The hierarchical chart below shows how the twitter users think in general about the covid-19 apps.
            In general the users are pessimistc except the French and English people.</p>
            [colors for mobile app]
          <svg id="basic_information_sa_starbust_svg" width="800" height="500"></svg>
        </div>

        <div>
            <h3>Combining sentiment analysis and geo-extraction</h3>
            <p>
                The following maps show the geographical distribution of the positive and negative
                tweets. The datasets created is composed by the intersection of the tweets with
                opinions and place names. The places names have been extracted using nlp techniques
                plus the database geonames for the translation from extracted place names to coordinates.
            </p>
            <div id="chart_4_content">
                <svg id="chart_4" width="1300" height="1200"></svg>
            </div>

            <div id="chart_5_content">
                <svg id="chart_5" width="1300" height="1300"></svg>
            </div>


        </div>

        <h4>Temporal evolution of positive and negative tweets</h4>
        <svg id="chart_plot" width="1300" height="800"></svg>

        <h4>Hashtags network: Positive vs Negative</h4>
        [number of tweet, degree, remove neutral]
        [combinations]
        [positive]
        [negative]
        <img src="contact_tracing_apps_sentiment_analysis/data/sa_network_1.png" />
        [[ move hashtags section ]]
    </div>
</body>

</html>

<!-- https://stackoverflow.com/questions/50478133/d3js-export-svg-to-image -->